<div class="container my-5">
    <h2 class="mb-4 text-center fw-bold">صفحه پرداخت</h2>
    <div class="row g-4">
        <!-- لیست کلاس‌ها -->
        <div class="col-md-6">
            <div class="p-4 shadow-sm rounded bg-white">
                <h4 class="mb-3 border-bottom pb-2">کلاس‌های ثبت‌نام‌شده</h4>
                <div *ngIf="registrations.length === 0; else hasClasses">
                    <p class="text-muted">هیچ کلاسی ثبت‌نام نشده است.</p>
                </div>
                <ng-template #hasClasses>
                    <table class="table table-hover align-middle">
                        <thead class="table-light">
                            <tr>
                                <th>نام کلاس</th>
                                <th>قیمت (تومان)</th>
                                <th>عملیات</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let reg of registrations">
                                <td>{{ reg.className }}</td>
                                <td>{{ reg.price | number }}</td>
                                <td>
                                    <button class="btn btn-sm btn-danger" (click)="deleteRegistration(reg.id)">حذف</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="mt-3 fw-bold fs-5">
                        مجموع: <span class="text-success">{{ totalPrice | number }}</span> تومان
                    </div>
                </ng-template>
            </div>
        </div>

        <!-- فرم پرداخت -->
        <div class="col-md-6">
            <div class="p-4 shadow-sm rounded bg-white">
                <h4 class="mb-3 border-bottom pb-2">اطلاعات پرداخت</h4>
                <form (ngSubmit)="processPayment()">
                    <div class="mb-3">
                        <label class="form-label">شماره کارت</label>
                        <input type="text" class="form-control" [(ngModel)]="cardNumber" name="cardNumber"
                            placeholder="1111-2222-3333-4444" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">نام صاحب کارت</label>
                        <input type="text" class="form-control" [(ngModel)]="cardHolderName" name="cardHolderName"
                            placeholder="نام صاحب کارت" required>
                    </div>
                    <div class="row">
                        <div class="col-6 mb-3">
                            <label class="form-label">تاریخ انقضا</label>
                            <input type="text" class="form-control" [(ngModel)]="expiryDate" name="expiryDate"
                                placeholder="MM/YY" required>
                        </div>
                        <div class="col-6 mb-3">
                            <label class="form-label">CVV</label>
                            <input type="number" class="form-control" [(ngModel)]="cvv" name="cvv"
                                placeholder="123" required>
                        </div>
                    </div>
                    <button class="btn btn-primary w-100 py-2" type="submit"
                        [disabled]="registrations.length === 0">پرداخت</button>
                </form>
            </div>
        </div>
    </div>
</div>
